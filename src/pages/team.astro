---
import { getCollection } from "astro:content";

const people = await getCollection("people");

// Get all unique years
const years = new Set<number>();
people.forEach((person) =>
    person.data.subteams?.forEach((subteam) =>
        subteam.years?.forEach((year) => years.add(year)),
    ),
);

return Astro.redirect(`/team/${Math.max(...Array.from(years))}`);
---
