---
import Layout from "../layouts/Layout.astro";
import Main from "../components/Main.astro";
import Header from "../components/Header.astro";
import Hero from "../components/Hero.astro";
import InfoSection from "../components/InfoSection.astro";
import stockImage from "../assets/images/StockImage.jpg";
import robotCADImage from "../assets/images/RobotCAD2025.png";
import InfoTile from "../components/InfoTile.astro";
import BlogTile from "../components/BlogTile.astro";

import OnshapeImage from "../assets/images/sponsors/Onshape.svg";
import UVAEngineeringImage from "../assets/images/sponsors/UVAEngineering.png";
import UVAParentsProgramImage from "../assets/images/sponsors/UVAParentsProgram.png";
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
import Modal from "../components/Modal.astro";
import marsLogo from "../assets/images/MARSLogo.png";

const allPosts = await getCollection("blog");
const latestPost = allPosts
	.filter((post) => !post.data.draft)
	.sort(
		(a, b) =>
			new Date(b.data.date).getTime() - new Date(a.data.date).getTime(),
	)[0];
---

<Layout solidNav={false}>
	<Hero />
	<Main>
		<Modal defaultOpen showX width="400px" id="join-modal">
			<div style={{ textAlign: "center" }}>
				<Image
					src={marsLogo}
					alt="MARS Logo"
					style={{
						width: "4em",
						height: "auto",
						borderRadius: "50%",
						boxShadow: "0 2px 8px rgba(0, 0, 0, 0.08)",
					}}
				/>
			</div>
			<h2 style={{ color: "navy", textAlign: "center" }}>Join MARS</h2>
			<p class="checkmark-list" style={{ textAlign: "center" }}>
				Fill out our <a
					href="https://docs.google.com/forms/d/e/1FAIpQLSdDJHzMw1E_dBakWyxilB7WZnKxoLAL3JtF2Tg9j51ryZoqmA/viewform"
					target="_blank"
					style={{ color: "#2a4d9b", fontWeight: "bold" }}
					>interest form</a
				> to learn more.
			</p>
			<ul
				class="checkmark-list"
				style={{ textAlign: "center", fontSize: "1em", color: "#222" }}
			>
				<li>No dues</li>
				<li>No application</li>
				<li>No experience required</li>
			</ul>
			<p
				style={{
					textAlign: "center",
					fontSize: "0.95em",
					color: "#555",
				}}
			>
				Everyone is welcome!
			</p>
		</Modal>
		<InfoSection imageSrc={stockImage.src} imagePosition="left">
			<h2>About Us</h2>
			<p>
				The Mechatronics and Robotics Society (MARS) at UVA is a
				student-run, experiential learning engineering team dedicated to
				teaching members and creating leaders in STEM.
			</p>
			<p>
				Every year, we build a Moon robot for the
				<a
					href="https://www.nasa.gov/learning-resources/lunabotics-challenge/"
					style="color:black">NASA Lunabotics Challenge</a
				>. This year, our robot will mine lunar regolith (lunar soil)
				and construct berms.
			</p>
			<ul>
				<li>
					Gain hands-on experience in design, machining, circuitry,
					and coding
				</li>
				<li>
					Practice organizing and collaborating with a professional
					engineering team
				</li>
				<li>
					Volunteer to promote STEM in the Charlottesville community
				</li>
				<li>Based out of Lacy Hall at the University of Virginia</li>
			</ul>
		</InfoSection>
		<InfoSection imageSrc={robotCADImage.src} imagePosition="right">
			<h2>Lunabotics Challenge</h2>
			<p>
				An annual challenge for ~60 universities to design and build
				autonomous rovers for lunar tasks supporting NASA's Artemis
				Mission.
			</p>
			<ul>
				<li>
					<strong>Objective:</strong> Mine regolith and construct a regolith-based
					berm to protect lunar landings.
				</li>
				<li>
					<strong>Significance:</strong> Supports Artemis goals for sustained
					Moon habitation and future Mars missions.
				</li>
				<li><strong>Requirements:</strong></li>
				<ul class="sublist">
					<li>
						Build a rover from scratch to compete at annual
						competition.
					</li>
					<li>
						Submit a systems engineering paper outlining design.
					</li>
					<li>Submit an outreach paper detailing K-12 engagement.</li>
				</ul>
				<li>
					<strong>Innovation:</strong> Exceptional designs may inspire
					NASA excavation devices for Moon or Mars deployment.
				</li>
			</ul>
		</InfoSection>
		<InfoSection center={true}>
			<h2>Get Involved</h2>
			<p>
				We’d love your help. Reach out in the way that works best for
				you, and we’ll handle the rest.
			</p>
			<div class="row" style="margin: 40px 0;">
				<InfoTile title="Sponsors" icon="🤝">
					We accept any donation, no matter the size. Your donations
					provide the resources necessary for the team to inspire new
					generations to develop essential engineering skills. Also,
					we'd love to hear about the various opportunities available
					to our members! We highly appreciate advice from
					professionals in the workplace.
				</InfoTile>
				<InfoTile title="Mentors" icon="🧠">
					Are you interested in teaching and demonstrating your
					passion for engineering, math and science? Become a part of
					our mechanical, electrical, or computer teams and make an
					impact on the next generation of engineers! Your experience
					and advice will be highly valued and greatly appreciated!
				</InfoTile>
				<InfoTile title="Students" icon="🔨">
					The success of the team is due to the diversity, creativity,
					and dedication of our members; responsibility and commitment
					are essential for the team to succeed. We hope that you will
					create friendships and gain skills that inspire your future
					career. You don't have to be an engineering student; we are
					always looking for people who are driven, dedicated, and
					committed!
				</InfoTile>
			</div>
		</InfoSection>
		<InfoSection center={true}>
			<h2>Latest Blog Post</h2>
			<br />
			<BlogTile frontmatter={latestPost.data} />
		</InfoSection>
		<InfoSection center={true}>
			<h2>Our Sponsors (thanks!)</h2>
			<div class="row responsive" style="align-items: center;">
				<Image src={UVAEngineeringImage} alt="UVA Engineering" />
				<Image src={UVAParentsProgramImage} alt="UVA Parents Program" />
				<Image src={OnshapeImage} alt="Onshape" />
			</div>
		</InfoSection>
	</Main>

	<style>
		.row {
			display: flex;
			flex-direction: row;
			gap: 40px;
			justify-content: center;
		}

		.row img {
			width: 30%;
			object-fit: contain;
			height: min-content;
		}

		@media (max-width: 1000px) {
			.row.responsive {
				flex-direction: column;
			}

			.row.responsive img {
				width: 100%;
				object-fit: contain;
				margin: 20px 0;
			}
		}

		.checkmark-list {
			list-style: none;
			padding: 0;
		}

		.checkmark-list > li::before {
			content: "\2713";
			margin: 0 0.5em;
		}

		.checkmark-list {
			margin-bottom: 8px;
		}
	</style>
</Layout>
